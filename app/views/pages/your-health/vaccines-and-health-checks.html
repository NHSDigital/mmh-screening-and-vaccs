{% extends 'layout-app.html' %}

{% set hub = "Your health" %}

{% set backLink = true %}
{% set backLinkURL = "/pages/home-p9" %}

{% set pageHeading = "Vaccines and health checks" %}
{% set pageDescription = "What you need to book, what's coming up, and what you've had" %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
      <h1 class="nhsuk-heading-xl nhsuk-u-margin-bottom-5">
        {{ pageHeading }}
      </h1>
      <p>
        Stay on top of your health by getting vaccines and screening when they're due.
      </p>


      {# Action needed — things to book now         #}

      {% if grouped.actionNeeded.length %}
        {% set cards = [] %}
        {% for prog in grouped.actionNeeded %}
          {% set cards = (cards.push({ title: prog.name, href: "#", description: prog.description }), cards) %}
        {% endfor %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: "Book now",
          cards: cards
        }) }}
      {% endif %}


      {# In progress — multi-dose, not finished     #}

      {% if grouped.inProgress.length %}
        {% set cards = [] %}
        {% for prog in grouped.inProgress %}
          {% set cards = (cards.push({ title: prog.name, href: "#", description: prog.description }), cards) %}
        {% endfor %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: "In progress",
          cards: cards
        }) }}
      {% endif %}


      {# Upcoming — not due yet but will be         #}

      {% if grouped.upcoming.length %}
        {% set cards = [] %}
        {% for prog in grouped.upcoming %}
          {% set cards = (cards.push({ title: prog.name, href: "#", description: prog.description }), cards) %}
        {% endfor %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: "Coming up",
          cards: cards
        }) }}
      {% endif %}


      {# Check eligibility — we don't have the data #}

      {% if grouped.checkEligibility.length %}
        {% set cards = [] %}
        {% for prog in grouped.checkEligibility %}
          {% set cards = (cards.push({ title: prog.name, href: "#", description: prog.description }), cards) %}
        {% endfor %}
        {{ nhsappCardGroup({
          stacked: true,
          heading: "Check if these are available to you",
          cards: cards
        }) }}
      {% endif %}


      {# Links to other screens                     #}

      <ul class="nhsuk-list nhsuk-u-margin-top-6">
        {% if grouped.upToDate.length %}
          <li>
            <a href="/pages/your-health/vaccines-and-health-checks-history">Up to date ({{ grouped.upToDate.length }})</a>
          </li>
        {% endif %}
        {% if grouped.optedOut.length %}
          <li>
            <a href="/pages/your-health/vaccines-and-health-checks-opted-out">Things you've opted out of ({{ grouped.optedOut.length }})</a>
          </li>
        {% endif %}
      </ul>

    </div>
  </div>

{% endblock %}
